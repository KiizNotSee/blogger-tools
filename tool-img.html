<!doctype html><html lang="vi"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Tool L·ªçc URL ·∫¢nh - Local Version</title><style>
        body { font-family: sans-serif; background: #f4f4f4; padding: 15px; margin: 0; }
        .box { background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); max-width: 600px; margin: auto; }
        h3 { margin-top: 0; color: #333; text-align: center; text-transform: uppercase; letter-spacing: 1px; }
        label { display: block; margin-top: 15px; font-weight: bold; font-size: 14px; color: #555; }
        textarea { width: 100%; padding: 12px; margin-top: 5px; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box; font-size: 14px; font-family: monospace; background: #fafafa; }
        textarea { height: 150px; resize: vertical; }
        .btn-group { margin-top: 15px; display: flex; flex-direction: column; gap: 10px; }
        .row-group { display: grid; grid-template-columns: 1fr; gap: 10px; }
        button { padding: 12px; border: none; border-radius: 5px; font-weight: bold; font-size: 14px; cursor: pointer; transition: opacity 0.2s; }
        button:active { opacity: 0.8; }
        .btn-gen { background: #007bff; color: white; font-size: 16px; padding: 15px; width: 100%; }
        .btn-copy { background: #28a745; color: white; }
        .btn-paste { background: #6c757d; color: white; }
        #output { background: #e9ecef; color: #212529; }
        .status { text-align: center; color: #28a745; font-weight: bold; margin-top: 10px; display: none; font-size: 13px; }
        .note { font-size: 11px; color: #888; margin-top: 5px; font-style: italic; }
    </style></head><body><div class="box"><h3>üõ† Tool L·ªçc URL ·∫¢nh</h3><label>üì• 1. HTML g·ªëc:</label><textarea id="inputHtml" placeholder="D√°n m√£ <div class=&quot;separator&quot;... v√†o ƒë√¢y"></textarea><div class="btn-group"><button class="btn-paste" onclick="pasteFromClipboard('inputHtml')">üìã D√ÅN M√É T·ª™ B·ªò NH·ªö T·∫†M</button></div><div class="btn-group"><button class="btn-gen" onclick="extractUrls()">‚ú® TR√çCH XU·∫§T URL</button></div><div id="msg" class="status">Thao t√°c th√†nh c√¥ng!</div><label>üì§ 2. Link ·∫£nh ƒë√£ t√°ch:</label><textarea id="output" readonly placeholder="K·∫øt qu·∫£ s·∫Ω hi·ªán ·ªü ƒë√¢y..."></textarea><div class="btn-group"><button class="btn-copy" onclick="copyText('output')">üìã SAO CH√âP TO√ÄN B·ªò LINK</button></div></div><script>
    // H√†m tr√≠ch xu·∫•t URL t·ª´ m√£ HTML
    function extractUrls() {
        const input = document.getElementById('inputHtml').value;
        if (!input.trim()) {
            alert("M√†y ch∆∞a d√°n g√¨ v√†o √¥ nh·∫≠p c·∫£!");
            return;
        }

        const parser = new DOMParser();
        const doc = parser.parseFromString(input, 'text/html');
        const images = doc.querySelectorAll('img');
        
        let urls = [];
        images.forEach(img => {
            if (img.src) urls.push(img.src);
        });

        if (urls.length > 0) {
            document.getElementById('output').value = urls.join('\n');
            showStatus("ƒê√£ l·ªçc xong!");
        } else {
            document.getElementById('output').value = "";
            alert("Kh√¥ng t√¨m th·∫•y th·∫ª <img> n√†o!");
        }
    }

    // H√†m D√°n (H·ªó tr·ª£ c·∫£ API v√† th√¥ng b√°o l·ªói cho local)
    async function pasteFromClipboard(id) {
        try {
            const text = await navigator.clipboard.readText();
            document.getElementById(id).value = text;
            showStatus("ƒê√£ d√°n!");
        } catch (err) {
            alert("L·ªói b·∫£o m·∫≠t tr√¨nh duy·ªát: Tr√™n file local (file:///), b·∫°n h√£y nh·∫•n Ctrl+V ƒë·ªÉ d√°n th·ªß c√¥ng nh√©!");
        }
    }

    // H√†m Sao ch√©p (D√πng fallback ƒë·ªÉ lu√¥n ch·∫°y ƒë∆∞·ª£c tr√™n file local)
    function copyText(id) {
        const el = document.getElementById(id);
        if (!el.value) return;

        // ∆Øu ti√™n d√πng API m·ªõi
        if (navigator.clipboard && navigator.clipboard.writeText) {
            navigator.clipboard.writeText(el.value).then(() => {
                showStatus("ƒê√£ sao ch√©p!");
            }).catch(err => {
                fallbackCopy(el);
            });
        } else {
            fallbackCopy(el);
        }
    }

    // C√°ch copy c≈© nh∆∞ng ch·∫°y ƒë∆∞·ª£c m·ªçi n∆°i
    function fallbackCopy(el) {
        el.select();
        el.setSelectionRange(0, 99999); // Cho mobile
        try {
            document.execCommand('copy');
            showStatus("ƒê√£ sao ch√©p (fallback)!");
        } catch (err) {
            alert("Kh√¥ng th·ªÉ sao ch√©p, h√£y b√¥i ƒëen v√† copy th·ªß c√¥ng!");
        }
    }

    function showStatus(text) {
        const msg = document.getElementById('msg');
        msg.innerText = text;
        msg.style.display = 'block';
        setTimeout(() => { msg.style.display = 'none'; }, 2000);
    }
</script></body></html>